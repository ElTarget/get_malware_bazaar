import os
import time
import zipfile


# 遍历文件夹
def get_file_name(file_dir):
    file_list = []
    for root, dirs, files in os.walk(file_dir, topdown=False):
        for file in files:
            # L.append(os.path.splitext(os.path.basename(file))) # 获取文件名和后缀
            file_list.append(file)
    return file_list


def zip2file_handler(zip_file, save_path, pwd=None):
    try:
        if pwd is None:
            zip_file.extractall(path=save_path)
        else:
            zip_file.extractall(path=save_path, pwd=pwd.encode('utf-8'))
        print(f'{zip_file}文件解压成功，密码:{pwd}')
        return True
    except:
        print(f'{zip_file}文件解压失败，密码:{pwd}')
        return False
